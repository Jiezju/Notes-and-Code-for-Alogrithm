## 查找表问题

- 查找问题的分类

    - 查找有无

        set

    - 对应关系查找

        map

- set 和 map 的常见操作

    - insert（插入key）
    - find（查找key）
    - erase（删除key）
    - change（改变key对应的value）

- **1. 两个数组的交集 - set 的使用**

	![](./img/39.png)
    
    - 思路

		使用 set
        
    ```C++
    #include <set>
    
    vector<int> intersection(vector<int>& nums1, vector<int>& nums2) 
    {
		 set<int> record;
         for (int i=0;i<nums1.size(); ++i)
         	record.insert(nums1[i]);
         set<int> result;
         for (int i=0;i<nums2.size(); ++i)
         	if (record.find(nums2[i]) != record.end()) // 相当于 in 操作				result.insert(nums2[i]);
         return vecotr<int>(result.begin(), result.end());
    }
    ```
 
- **2. 两个数组的交集 II - map 的使用** 

	![](./img/40.png)
    
    - 思路

		使用 map
        
    ```C++
    #include <map>
    
    vector<int> intersection(vector<int>& nums1, vector<int>& nums2) 
    {
		 map<int,int> record;// 默认 value 为 0
         for (int i=0;i<nums1.size(); ++i)
         	record[nums1[i]]++;// 访问nums1[i]，相当于record[nums1[i]]=0
            
         vector<int> res;
         for (int i=0;i<nums2.size(); ++i)
         {
         	if (record[nums2[i]] > 0)
            {
            	res.push_back(nums2[i]]);
                record[nums2[i]]--;
            }
         }
         
         return res;
    }
    ```
    
    标准写法
    
    ```C++
    #include <map>
    
    vector<int> intersection(vector<int>& nums1, vector<int>& nums2) 
    {
		 map<int,int> record;// 默认 value 为 0
         for (int i=0;i<nums1.size(); ++i)
         	if (record.find(nums1[i]) == record.end()))
            {
            	record.insert(make_pair(nums1[i], 1));
            }
            else
         		record[nums1[i]]++;
            
         vector<int> res;
         for (int i=0;i<nums2.size(); ++i)
         {
         	if (record.find(nums2[i]) == record.end() && record[nums2[i]] > 0)
            {
            	res.push_back(nums2[i]]);
                record[nums2[i]]--;
                if (record[nums2[i]] == 0)
                	record.erase(nums2[i]);
            }
         }
         
         return res;
    }
    ```
    
- set 和 map 的底层实现

	![](./img/41.png)
    
    - c++ 中，map 和 set 的底层实现为平衡二叉树；unordered map 和 unordered set 的底层实现为哈希表
